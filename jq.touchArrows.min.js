/**
 * jQuery touchArrows - v1.0 - 5/23/2012
 * https://github.com/pesblog/jq.touchArrows/
 *
 * Copyright (c) 2012 "pesblog" Noritak Baba
 * Licensed under the MIT licenses.
 */
;function touchArrows(d){var f=$.extend({textarea:'.textarea',topBtn:'.up',btmBtn:'.down',moving:'moving'},d==undefined?{}:d);var g=$(f.textarea),height=g.height(),lineHeight=parseInt(g.css('line-height').slice(0,-2)),lineCharNum=10,allLineNum=(height/lineHeight)-1;function _touchstart(a,b){if(a.scrollTimer!=undefined){clearInterval(a.scrollTimer)}if(a.clickTimer!=undefined){clearTimeout(a.clickTimer)}a.nowScroll=g.scrollTop();a.selectionPoint=g[0].selectionStart;a.scrollTimer=undefined;a.i=0;a.clickTimer=setTimeout(function(){a.scrollTimer=setInterval(function(){if(b=='bottom'){g.scrollTop(a.nowScroll+(lineHeight*a.i/3));_moveSelectionPoit(g[0],lineCharNum)}else if(b=='top'){g.scrollTop(a.nowScroll-(lineHeight*a.i/3));_moveSelectionPoit(g[0],((-1)*lineCharNum))}a.i++},25)},400);$(a).addClass(f.moving)}function _touchend(a,b){$(a).removeClass(f.moving);if(a.scrollTimer!=undefined){clearInterval(a.scrollTimer);return}var c=(lineCharNum*allLineNum);if(b=='bottom'){g.stop().animate({scrollTop:a.nowScroll+height-lineHeight},'slow');_moveSelectionPoit(g[0],c)}else if(b=='top'){g.stop().animate({scrollTop:a.nowScroll-height+lineHeight},'slow');_moveSelectionPoit(g[0],(-1*c))}clearTimeout(a.clickTimer)}function _moveSelectionPoit(a,b){var c=a.selectionStart+b;a.selectionStart=c;a.selectionEnd=c;return c}$(f.topBtn+','+f.btmBtn).click(function(e){e.preventDefault();e.stopPropagation()});$(f.topBtn).bind('touchstart mousedown',function(e){e.preventDefault();e.stopPropagation();_touchstart(this,'top')});$(f.topBtn).bind('touchend mouseup',function(e){_touchend(this,'top')});$(f.btmBtn).bind('touchstart mousedown',function(e){e.preventDefault();e.stopPropagation();_touchstart(this,'bottom')});$(f.btmBtn).bind('touchend mouseup',function(e){_touchend(this,'bottom')});setTimeout(function(){g.trigger('focus')},0)}